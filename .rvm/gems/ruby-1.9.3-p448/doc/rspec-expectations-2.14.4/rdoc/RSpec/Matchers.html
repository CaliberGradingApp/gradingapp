<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module RSpec::Matchers - rspec-expectations-2.14.4 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/rspec/matchers/be_close.rb
    <li>lib/rspec/matchers/extensions/instance_eval_with_args.rb
    <li>lib/rspec/matchers/pretty.rb
    <li>lib/rspec/matchers/method_missing.rb
    <li>lib/rspec/matchers/dsl.rb
    <li>lib/rspec/matchers/configuration.rb
    <li>lib/rspec/matchers/generated_descriptions.rb
    <li>lib/rspec/matchers/built_in.rb
    <li>lib/rspec/matchers/operator_matcher.rb
    <li>lib/rspec/matchers/matcher.rb
    <li>lib/rspec/matchers/built_in/eq.rb
    <li>lib/rspec/matchers/built_in/start_and_end_with.rb
    <li>lib/rspec/matchers/built_in/match.rb
    <li>lib/rspec/matchers/built_in/exist.rb
    <li>lib/rspec/matchers/built_in/cover.rb
    <li>lib/rspec/matchers/built_in/change.rb
    <li>lib/rspec/matchers/built_in/equal.rb
    <li>lib/rspec/matchers/built_in/have.rb
    <li>lib/rspec/matchers/built_in/raise_error.rb
    <li>lib/rspec/matchers/built_in/eql.rb
    <li>lib/rspec/matchers/built_in/satisfy.rb
    <li>lib/rspec/matchers/built_in/be_kind_of.rb
    <li>lib/rspec/matchers/built_in/yield.rb
    <li>lib/rspec/matchers/built_in/be.rb
    <li>lib/rspec/matchers/built_in/throw_symbol.rb
    <li>lib/rspec/matchers/built_in/has.rb
    <li>lib/rspec/matchers/built_in/base_matcher.rb
    <li>lib/rspec/matchers/built_in/be_within.rb
    <li>lib/rspec/matchers/built_in/include.rb
    <li>lib/rspec/matchers/built_in/be_instance_of.rb
    <li>lib/rspec/matchers/built_in/match_array.rb
    <li>lib/rspec/matchers/built_in/respond_to.rb
    <li>lib/rspec/matchers.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-clear_generated_description">::clear_generated_description</a>
    
    <li><a href="#method-c-configuration">::configuration</a>
    
    <li><a href="#method-c-generated_description">::generated_description</a>
    
    <li><a href="#method-c-is_a_matcher-3F">::is_a_matcher?</a>
    
    <li><a href="#method-i-be">#be</a>
    
    <li><a href="#method-i-be_a">#be_a</a>
    
    <li><a href="#method-i-be_a_kind_of">#be_a_kind_of</a>
    
    <li><a href="#method-i-be_an">#be_an</a>
    
    <li><a href="#method-i-be_an_instance_of">#be_an_instance_of</a>
    
    <li><a href="#method-i-be_close">#be_close</a>
    
    <li><a href="#method-i-be_false">#be_false</a>
    
    <li><a href="#method-i-be_instance_of">#be_instance_of</a>
    
    <li><a href="#method-i-be_kind_of">#be_kind_of</a>
    
    <li><a href="#method-i-be_nil">#be_nil</a>
    
    <li><a href="#method-i-be_true">#be_true</a>
    
    <li><a href="#method-i-be_within">#be_within</a>
    
    <li><a href="#method-i-change">#change</a>
    
    <li><a href="#method-i-cover">#cover</a>
    
    <li><a href="#method-i-end_with">#end_with</a>
    
    <li><a href="#method-i-eq">#eq</a>
    
    <li><a href="#method-i-eql">#eql</a>
    
    <li><a href="#method-i-equal">#equal</a>
    
    <li><a href="#method-i-exist">#exist</a>
    
    <li><a href="#method-i-have">#have</a>
    
    <li><a href="#method-i-have_at_least">#have_at_least</a>
    
    <li><a href="#method-i-have_at_most">#have_at_most</a>
    
    <li><a href="#method-i-have_exactly">#have_exactly</a>
    
    <li><a href="#method-i-include">#include</a>
    
    <li><a href="#method-i-match">#match</a>
    
    <li><a href="#method-i-match_array">#match_array</a>
    
    <li><a href="#method-i-match_regex">#match_regex</a>
    
    <li><a href="#method-i-raise_error">#raise_error</a>
    
    <li><a href="#method-i-raise_exception">#raise_exception</a>
    
    <li><a href="#method-i-respond_to">#respond_to</a>
    
    <li><a href="#method-i-satisfy">#satisfy</a>
    
    <li><a href="#method-i-start_with">#start_with</a>
    
    <li><a href="#method-i-throw_symbol">#throw_symbol</a>
    
    <li><a href="#method-i-yield_control">#yield_control</a>
    
    <li><a href="#method-i-yield_successive_args">#yield_successive_args</a>
    
    <li><a href="#method-i-yield_with_args">#yield_with_args</a>
    
    <li><a href="#method-i-yield_with_no_args">#yield_with_no_args</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    
    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../RSpec.html">RSpec</a>
  
    <li><a href="../RSpec/Expectations.html">RSpec::Expectations</a>
  
    <li><a href="../RSpec/Expectations/DeprecatedConstants.html">RSpec::Expectations::DeprecatedConstants</a>
  
    <li><a href="../RSpec/Expectations/Deprecation.html">RSpec::Expectations::Deprecation</a>
  
    <li><a href="../RSpec/Expectations/Differ.html">RSpec::Expectations::Differ</a>
  
    <li><a href="../RSpec/Expectations/ExpectationHandler.html">RSpec::Expectations::ExpectationHandler</a>
  
    <li><a href="../RSpec/Expectations/ExpectationNotMetError.html">RSpec::Expectations::ExpectationNotMetError</a>
  
    <li><a href="../RSpec/Expectations/ExpectationTarget.html">RSpec::Expectations::ExpectationTarget</a>
  
    <li><a href="../RSpec/Expectations/NegativeExpectationHandler.html">RSpec::Expectations::NegativeExpectationHandler</a>
  
    <li><a href="../RSpec/Expectations/PositiveExpectationHandler.html">RSpec::Expectations::PositiveExpectationHandler</a>
  
    <li><a href="../RSpec/Expectations/Syntax.html">RSpec::Expectations::Syntax</a>
  
    <li><a href="../RSpec/Expectations/Syntax/ExpectExpressionGenerator.html">RSpec::Expectations::Syntax::ExpectExpressionGenerator</a>
  
    <li><a href="../RSpec/Expectations/Syntax/ShouldExpressionGenerator.html">RSpec::Expectations::Syntax::ShouldExpressionGenerator</a>
  
    <li><a href="../RSpec/Expectations/Version.html">RSpec::Expectations::Version</a>
  
    <li><a href="../RSpec/Matchers.html">RSpec::Matchers</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn.html">RSpec::Matchers::BuiltIn</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BaseMatcher.html">RSpec::Matchers::BuiltIn::BaseMatcher</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Be.html">RSpec::Matchers::BuiltIn::Be</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeAKindOf.html">RSpec::Matchers::BuiltIn::BeAKindOf</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeAnInstanceOf.html">RSpec::Matchers::BuiltIn::BeAnInstanceOf</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeComparedTo.html">RSpec::Matchers::BuiltIn::BeComparedTo</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeFalse.html">RSpec::Matchers::BuiltIn::BeFalse</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeHelpers.html">RSpec::Matchers::BuiltIn::BeHelpers</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeNil.html">RSpec::Matchers::BuiltIn::BeNil</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BePredicate.html">RSpec::Matchers::BuiltIn::BePredicate</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeTrue.html">RSpec::Matchers::BuiltIn::BeTrue</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/BeWithin.html">RSpec::Matchers::BuiltIn::BeWithin</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Change.html">RSpec::Matchers::BuiltIn::Change</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Cover.html">RSpec::Matchers::BuiltIn::Cover</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/EndWith.html">RSpec::Matchers::BuiltIn::EndWith</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Eq.html">RSpec::Matchers::BuiltIn::Eq</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Eql.html">RSpec::Matchers::BuiltIn::Eql</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Equal.html">RSpec::Matchers::BuiltIn::Equal</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Exist.html">RSpec::Matchers::BuiltIn::Exist</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Has.html">RSpec::Matchers::BuiltIn::Has</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Have.html">RSpec::Matchers::BuiltIn::Have</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Include.html">RSpec::Matchers::BuiltIn::Include</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Match.html">RSpec::Matchers::BuiltIn::Match</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/MatchArray.html">RSpec::Matchers::BuiltIn::MatchArray</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/NegativeOperatorMatcher.html">RSpec::Matchers::BuiltIn::NegativeOperatorMatcher</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/PositiveOperatorMatcher.html">RSpec::Matchers::BuiltIn::PositiveOperatorMatcher</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/RaiseError.html">RSpec::Matchers::BuiltIn::RaiseError</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/RespondTo.html">RSpec::Matchers::BuiltIn::RespondTo</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/Satisfy.html">RSpec::Matchers::BuiltIn::Satisfy</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/StartAndEndWith.html">RSpec::Matchers::BuiltIn::StartAndEndWith</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/StartWith.html">RSpec::Matchers::BuiltIn::StartWith</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/ThrowSymbol.html">RSpec::Matchers::BuiltIn::ThrowSymbol</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/YieldControl.html">RSpec::Matchers::BuiltIn::YieldControl</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/YieldProbe.html">RSpec::Matchers::BuiltIn::YieldProbe</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/YieldSuccessiveArgs.html">RSpec::Matchers::BuiltIn::YieldSuccessiveArgs</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/YieldWithArgs.html">RSpec::Matchers::BuiltIn::YieldWithArgs</a>
  
    <li><a href="../RSpec/Matchers/BuiltIn/YieldWithNoArgs.html">RSpec::Matchers::BuiltIn::YieldWithNoArgs</a>
  
    <li><a href="../RSpec/Matchers/Configuration.html">RSpec::Matchers::Configuration</a>
  
    <li><a href="../RSpec/Matchers/DSL.html">RSpec::Matchers::DSL</a>
  
    <li><a href="../RSpec/Matchers/DSL/Matcher.html">RSpec::Matchers::DSL::Matcher</a>
  
    <li><a href="../RSpec/Matchers/Extensions.html">RSpec::Matchers::Extensions</a>
  
    <li><a href="../RSpec/Matchers/Extensions/InstanceEvalWithArgs.html">RSpec::Matchers::Extensions::InstanceEvalWithArgs</a>
  
    <li><a href="../RSpec/Matchers/OperatorMatcher.html">RSpec::Matchers::OperatorMatcher</a>
  
    <li><a href="../RSpec/Matchers/Pretty.html">RSpec::Matchers::Pretty</a>
  
    <li><a href="../Array.html">Array</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module RSpec::Matchers</h1>

  <div id="description" class="description">
    
<p><a href="Matchers.html">RSpec::Matchers</a> provides a number of useful
matchers we use to define expectations. A matcher is any object that
responds to the following:</p>

<pre>matches?(actual)
failure_message_for_should</pre>

<p>These methods are also part of the matcher protocol, but are optional:</p>

<pre>does_not_match?(actual)
failure_message_for_should_not
description</pre>

<p>## Predicates</p>

<p>In addition to matchers that are defined explicitly, <a
href="../RSpec.html">RSpec</a> will create custom matchers on the fly for
any arbitrary predicate, giving your specs a much more natural language
feel.</p>

<p>A Ruby predicate is a method that ends with a “?” and returns true or
false. Common examples are `empty?`, `nil?`, and `instance_of?`.</p>

<p>All you need to do is write `expect(..).to be_` followed by the predicate
without the question mark, and <a href="../RSpec.html">RSpec</a> will
figure it out from there. For example:</p>

<pre class="ruby"><span class="ruby-identifier">expect</span>([]).<span class="ruby-identifier">to</span> <span class="ruby-identifier">be_empty</span>     <span class="ruby-comment"># =&gt; [].empty?() | passes</span>
<span class="ruby-identifier">expect</span>([]).<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">be_empty</span> <span class="ruby-comment"># =&gt; [].empty?() | fails</span>
</pre>

<p>In addtion to prefixing the predicate matchers with “be_”, you can also use
“be_a_” and “be_an_”, making your specs read much more naturally:</p>

<pre class="ruby"><span class="ruby-identifier">expect</span>(<span class="ruby-string">&quot;a string&quot;</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">be_an_instance_of</span>(<span class="ruby-constant">String</span>) <span class="ruby-comment"># =&gt;&quot;a string&quot;.instance_of?(String) # passes</span>

<span class="ruby-identifier">expect</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">be_a_kind_of</span>(<span class="ruby-constant">Fixnum</span>)        <span class="ruby-comment"># =&gt; 3.kind_of?(Numeric)     | passes</span>
<span class="ruby-identifier">expect</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">be_a_kind_of</span>(<span class="ruby-constant">Numeric</span>)       <span class="ruby-comment"># =&gt; 3.kind_of?(Numeric)     | passes</span>
<span class="ruby-identifier">expect</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">be_an_instance_of</span>(<span class="ruby-constant">Fixnum</span>)   <span class="ruby-comment"># =&gt; 3.instance_of?(Fixnum)  | passes</span>
<span class="ruby-identifier">expect</span>(<span class="ruby-value">3</span>).<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">be_an_instance_of</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-comment"># =&gt; 3.instance_of?(Numeric) | fails</span>
</pre>

<p><a href="../RSpec.html">RSpec</a> will also create custom matchers for
predicates like `has_key?`. To use this feature, just state that the object
should have_key(:key) and <a href="../RSpec.html">RSpec</a> will call
has_key?(:key) on the target. For example:</p>

<pre class="ruby"><span class="ruby-identifier">expect</span>(:<span class="ruby-identifier">a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A&quot;</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">have_key</span>(:<span class="ruby-identifier">a</span>)
<span class="ruby-identifier">expect</span>(:<span class="ruby-identifier">a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A&quot;</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">have_key</span>(:<span class="ruby-identifier">b</span>) <span class="ruby-comment"># fails</span>
</pre>

<p>You can use this feature to invoke any predicate that begins with “has_”,
whether it is part of the Ruby libraries (like `Hash#has_key?`) or a method
you wrote on your own class.</p>

<p>## Custom <a href="Matchers.html">Matchers</a></p>

<p>When you find that none of the stock matchers provide a natural feeling
expectation, you can very easily write your own using RSpec’s matcher <a
href="Matchers/DSL.html">DSL</a> or writing one from scratch.</p>

<p>### Matcher <a href="Matchers/DSL.html">DSL</a></p>

<p>Imagine that you are writing a game in which players can be in various
zones on a virtual board. To specify that bob should be in zone 4, you
could say:</p>

<pre>expect(bob.current_zone).to eql(Zone.new(&quot;4&quot;))</pre>

<p>But you might find it more expressive to say:</p>

<pre>expect(bob).to be_in_zone(&quot;4&quot;)</pre>

<p>and/or</p>

<pre>expect(bob).not_to be_in_zone(&quot;3&quot;)</pre>

<p>You can create such a matcher like so:</p>

<pre class="ruby"><span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Matchers</span>.<span class="ruby-identifier">define</span> :<span class="ruby-identifier">be_in_zone</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">zone</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">match</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">player</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">player</span>.<span class="ruby-identifier">in_zone?</span>(<span class="ruby-identifier">zone</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>This will generate a <code>be_in_zone</code> method that returns a matcher
with logical default messages for failures. You can override the failure
messages and the generated description as follows:</p>

<pre class="ruby"><span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Matchers</span>.<span class="ruby-identifier">define</span> :<span class="ruby-identifier">be_in_zone</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">zone</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">match</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">player</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">player</span>.<span class="ruby-identifier">in_zone?</span>(<span class="ruby-identifier">zone</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">failure_message_for_should</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">player</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># generate and return the appropriate string.</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">failure_message_for_should_not</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">player</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># generate and return the appropriate string.</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">description</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># generate and return the appropriate string.</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Each of the message-generation methods has access to the block arguments
passed to the <code>create</code> method (in this case, <code>zone</code>).
The failure message methods (<code>failure_message_for_should</code> and
<code>failure_message_for_should_not</code>) are passed the actual value
(the receiver of <code>expect(..)</code> or
<code>expect(..).not_to</code>).</p>

<p>### Custom Matcher from scratch</p>

<p>You could also write a custom matcher from scratch, as follows:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">BeInZone</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">expected</span>)
    <span class="ruby-ivar">@expected</span> = <span class="ruby-identifier">expected</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">matches?</span>(<span class="ruby-identifier">target</span>)
    <span class="ruby-ivar">@target</span> = <span class="ruby-identifier">target</span>
    <span class="ruby-ivar">@target</span>.<span class="ruby-identifier">current_zone</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-constant">Zone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@expected</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">failure_message_for_should</span>
    <span class="ruby-node">&quot;expected #{@target.inspect} to be in Zone #{@expected}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">failure_message_for_should_not</span>
    <span class="ruby-node">&quot;expected #{@target.inspect} not to be in Zone #{@expected}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>… and a method like this:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">be_in_zone</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BeInZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>And then expose the method to your specs. This is normally done by
including the method and the class in a module, which is then included in
your spec:</p>

<pre class="ruby"><span class="ruby-keyword">module</span> <span class="ruby-constant">CustomGameMatchers</span>
  <span class="ruby-keyword">class</span> <span class="ruby-constant">BeInZone</span>
    <span class="ruby-comment"># ...</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">be_in_zone</span>(<span class="ruby-identifier">expected</span>)
    <span class="ruby-comment"># ...</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">describe</span> <span class="ruby-string">&quot;Player behaviour&quot;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">CustomGameMatchers</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>or you can include in globally in a spec_helper.rb file
<code>require</code>d from your spec file(s):</p>

<pre class="ruby"><span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">include</span>(<span class="ruby-constant">CustomGameMatchers</span>)
<span class="ruby-keyword">end</span>
</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-c-last_matcher" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">last_matcher</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-c-last_should" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">last_should</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-clear_generated_description" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear_generated_description</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="clear_generated_description-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers/generated_descriptions.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">clear_generated_description</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">last_matcher</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">last_should</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear_generated_description-source -->
          
        </div>

        

        
      </div><!-- clear_generated_description-method -->

    
      <div id="method-c-configuration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">configuration</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>The configuration object @return [RSpec::Matchers::Configuration] the
configuration object</p>
          

          
          <div class="method-source-code" id="configuration-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers/configuration.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">configuration</span>
  <span class="ruby-ivar">@configuration</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- configuration-source -->
          
        </div>

        

        
      </div><!-- configuration-method -->

    
      <div id="method-c-generated_description" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generated_description</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="generated_description-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers/generated_descriptions.rb, line 12</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">generated_description</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">last_should</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-node">&quot;#{last_should.to_s.gsub('_',' ')} #{last_description}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- generated_description-source -->
          
        </div>

        

        
      </div><!-- generated_description-method -->

    
      <div id="method-c-is_a_matcher-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_a_matcher?</span><span
            class="method-args">(obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>@api private</p>
          

          
          <div class="method-source-code" id="is_a_matcher-3F-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_a_matcher?</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>  <span class="ruby-keyword">if</span> <span class="ruby-operator">::</span><span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Matchers</span><span class="ruby-operator">::</span><span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BaseMatcher</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:i_respond_to_everything_so_im_not_really_a_matcher</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:matches?</span>)

  <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:failure_message_for_should</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:failure_message</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_a_matcher-3F-source -->
          
        </div>

        

        
      </div><!-- is_a_matcher-3F-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-be" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>@example</p>

<pre>expect(actual).to     be_true
expect(actual).to     be_false
expect(actual).to     be_nil
expect(actual).to     be_[arbitrary_predicate](*args)
expect(actual).not_to be_nil
expect(actual).not_to be_[arbitrary_predicate](*args)</pre>

<p>Given true, false, or nil, will pass if actual value is true, false or nil
(respectively). Given no args means the caller should satisfy an if
condition (to be or not to be).</p>

<p>Predicates are any Ruby method that ends in a “?” and returns true or
false.  Given be_ followed by arbitrary_predicate (without the “?”), <a
href="../RSpec.html">RSpec</a> will match convert that into a query against
the target object.</p>

<p>The arbitrary_predicate feature will handle any predicate prefixed with
“be_an_” (e.g. <a
href="Matchers.html#method-i-be_an_instance_of">#be_an_instance_of</a>),
“be_a_” (e.g. <a
href="Matchers.html#method-i-be_a_kind_of">#be_a_kind_of</a>) or “be_”
(e.g. be_empty), letting you choose the prefix that best suits the
predicate.</p>
          

          
          <div class="method-source-code" id="be-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span>
    <span class="ruby-constant">Matchers</span><span class="ruby-operator">::</span><span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Be</span>.<span class="ruby-identifier">new</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">equal</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be-source -->
          
        </div>

        

        
      </div><!-- be-method -->

    
      <div id="method-i-be_a" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_a</span><span
            class="method-args">(klass)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>passes if target.kind_of?(klass)</p>
          

          
          <div class="method-source-code" id="be_a-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_a</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">be_a_kind_of</span>(<span class="ruby-identifier">klass</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_a-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-be_an">be_an</a>
        </div>
        

        
      </div><!-- be_a-method -->

    
      <div id="method-i-be_a_kind_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_a_kind_of</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual.kind_of?(expected)</p>

<p>@example</p>

<pre>expect(5).to     be_a_kind_of(Fixnum)
expect(5).to     be_a_kind_of(Numeric)
expect(5).not_to be_a_kind_of(Float)</pre>
          

          
          <div class="method-source-code" id="be_a_kind_of-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_a_kind_of</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeAKindOf</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_a_kind_of-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-be_kind_of">be_kind_of</a>
        </div>
        

        
      </div><!-- be_a_kind_of-method -->

    
      <div id="method-i-be_an" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">be_an</span><span
            class="method-args">(klass)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-be_a">be_a</a>
        </div>
        
      </div><!-- be_an-method -->

    
      <div id="method-i-be_an_instance_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_an_instance_of</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual.instance_of?(expected)</p>

<p>@example</p>

<pre>expect(5).to     be_an_instance_of(Fixnum)
expect(5).not_to be_an_instance_of(Numeric)
expect(5).not_to be_an_instance_of(Float)</pre>
          

          
          <div class="method-source-code" id="be_an_instance_of-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_an_instance_of</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeAnInstanceOf</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_an_instance_of-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-be_instance_of">be_instance_of</a>
        </div>
        

        
      </div><!-- be_an_instance_of-method -->

    
      <div id="method-i-be_close" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_close</span><span
            class="method-args">(expected, delta)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>@deprecated use <code>be_within</code> instead.</p>
          

          
          <div class="method-source-code" id="be_close-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers/be_close.rb, line 4</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_close</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">delta</span>)
  <span class="ruby-constant">RSpec</span>.<span class="ruby-identifier">deprecate</span>(<span class="ruby-node">&quot;be_close(#{expected}, #{delta})&quot;</span>, <span class="ruby-value">:replacement</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;be_within(#{delta}).of(#{expected})&quot;</span>)
  <span class="ruby-identifier">be_within</span>(<span class="ruby-identifier">delta</span>).<span class="ruby-identifier">of</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_close-source -->
          
        </div>

        

        
      </div><!-- be_close-method -->

    
      <div id="method-i-be_false" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_false</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual is falsy (false or nil)</p>
          

          
          <div class="method-source-code" id="be_false-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_false</span>
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeFalse</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_false-source -->
          
        </div>

        

        
      </div><!-- be_false-method -->

    
      <div id="method-i-be_instance_of" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">be_instance_of</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-be_an_instance_of">be_an_instance_of</a>
        </div>
        
      </div><!-- be_instance_of-method -->

    
      <div id="method-i-be_kind_of" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">be_kind_of</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-be_a_kind_of">be_a_kind_of</a>
        </div>
        
      </div><!-- be_kind_of-method -->

    
      <div id="method-i-be_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_nil</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual is nil</p>
          

          
          <div class="method-source-code" id="be_nil-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_nil</span>
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeNil</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_nil-source -->
          
        </div>

        

        
      </div><!-- be_nil-method -->

    
      <div id="method-i-be_true" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_true</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual is truthy (anything but false or nil)</p>
          

          
          <div class="method-source-code" id="be_true-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_true</span>
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeTrue</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_true-source -->
          
        </div>

        

        
      </div><!-- be_true-method -->

    
      <div id="method-i-be_within" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">be_within</span><span
            class="method-args">(delta)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual == expected +/- delta</p>

<p>@example</p>

<pre>expect(result).to     be_within(0.5).of(3.0)
expect(result).not_to be_within(0.5).of(3.0)</pre>
          

          
          <div class="method-source-code" id="be_within-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">be_within</span>(<span class="ruby-identifier">delta</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">BeWithin</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">delta</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- be_within-source -->
          
        </div>

        

        
      </div><!-- be_within-method -->

    
      <div id="method-i-change" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">change</span><span
            class="method-args">(receiver=nil, message=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Applied to a proc, specifies that its execution will cause some value to
change.</p>

<p>@param [Object] receiver @param [Symbol] message the message to send the
receiver</p>

<p>You can either pass <code>receiver</code> and <code>message</code>, or a
block, but not both.</p>

<p>When passing a block, it must use the <code>{ ... }</code> format, not
do/end, as <code>{ ... }</code> binds to the <code>change</code> method,
whereas do/end would errantly bind to the +expect(..)+ or
+expect(..).not_to+ method.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">team</span>.<span class="ruby-identifier">add_player</span>(<span class="ruby-identifier">player</span>)
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">roster</span>, :<span class="ruby-identifier">count</span>)

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">team</span>.<span class="ruby-identifier">add_player</span>(<span class="ruby-identifier">player</span>)
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">roster</span>, :<span class="ruby-identifier">count</span>).<span class="ruby-identifier">by</span>(<span class="ruby-value">1</span>)

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">team</span>.<span class="ruby-identifier">add_player</span>(<span class="ruby-identifier">player</span>)
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">roster</span>, :<span class="ruby-identifier">count</span>).<span class="ruby-identifier">by_at_least</span>(<span class="ruby-value">1</span>)

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">team</span>.<span class="ruby-identifier">add_player</span>(<span class="ruby-identifier">player</span>)
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">roster</span>, :<span class="ruby-identifier">count</span>).<span class="ruby-identifier">by_at_most</span>(<span class="ruby-value">1</span>)

<span class="ruby-identifier">string</span> = <span class="ruby-string">&quot;string&quot;</span>
<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">reverse!</span>
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span> { <span class="ruby-identifier">string</span> }.<span class="ruby-identifier">from</span>(<span class="ruby-string">&quot;string&quot;</span>).<span class="ruby-identifier">to</span>(<span class="ruby-string">&quot;gnirts&quot;</span>)

<span class="ruby-identifier">string</span> = <span class="ruby-string">&quot;string&quot;</span>
<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">string</span>
}.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">change</span> { <span class="ruby-identifier">string</span> }

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">person</span>.<span class="ruby-identifier">happy_birthday</span>
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">person</span>, :<span class="ruby-identifier">birthday</span>).<span class="ruby-identifier">from</span>(<span class="ruby-value">32</span>).<span class="ruby-identifier">to</span>(<span class="ruby-value">33</span>)

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">develop_great_new_social_networking_app</span>
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">employee</span>, :<span class="ruby-identifier">title</span>).<span class="ruby-identifier">from</span>(<span class="ruby-string">&quot;Mail Clerk&quot;</span>).<span class="ruby-identifier">to</span>(<span class="ruby-string">&quot;CEO&quot;</span>)

<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">doctor</span>.<span class="ruby-identifier">leave_office</span>
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">doctor</span>, :<span class="ruby-identifier">sign</span>).<span class="ruby-identifier">from</span>(<span class="ruby-regexp">/is in/</span>).<span class="ruby-identifier">to</span>(<span class="ruby-regexp">/is out/</span>)

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin&quot;</span>)
<span class="ruby-identifier">expect</span> {
  <span class="ruby-identifier">user</span>.<span class="ruby-identifier">symbolize_type</span>
}.<span class="ruby-identifier">to</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">user</span>, :<span class="ruby-identifier">type</span>).<span class="ruby-identifier">from</span>(<span class="ruby-constant">String</span>).<span class="ruby-identifier">to</span>(<span class="ruby-constant">Symbol</span>)
</pre>

<h2 id="method-i-change-label-Notes">Notes</h2>

<p>Evaluates <code>receiver.message</code> or <code>block</code> before and
after it evaluates the block passed to <code>expect</code>.</p>

<p><code>expect( ... ).not_to change</code> only supports the form with no
subsequent calls to <code>by</code>, <code>by_at_least</code>,
<code>by_at_most</code>, <code>to</code> or <code>from</code>.</p>
          

          
          <div class="method-source-code" id="change-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">receiver</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">message</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Change</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">message</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- change-source -->
          
        </div>

        

        
      </div><!-- change-method -->

    
      <div id="method-i-cover" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cover</span><span
            class="method-args">(*values)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual covers expected. This works for Ranges. You can also pass
in multiple args and it will only pass if all args are found in Range.</p>

<p>@example</p>

<pre>expect(1..10).to     cover(5)
expect(1..10).to     cover(4, 6)
expect(1..10).to     cover(4, 6, 11) # fails
expect(1..10).not_to cover(11)
expect(1..10).not_to cover(5)        # fails</pre>
<dl class="rdoc-list note-list"><dt>### Warning
<dd>
<p>Ruby &gt;= 1.9 only</p>
</dd></dl>
          

          
          <div class="method-source-code" id="cover-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cover</span>(*<span class="ruby-identifier">values</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Cover</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">values</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- cover-source -->
          
        </div>

        

        
      </div><!-- cover-method -->

    
      <div id="method-i-end_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">end_with</span><span
            class="method-args">(*expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Matches if the actual value ends with the expected value(s). In the case of
a string, matches against the last `expected.length` characters of the
actual string. In the case of an array, matches against the last
`expected.length` elements of the actual array.</p>

<p>@example</p>

<pre>expect(&quot;this string&quot;).to   end_with &quot;string&quot;
expect([0, 1, 2, 3, 4]).to end_with 4
expect([0, 2, 3, 4, 4]).to end_with 3, 4</pre>
          

          
          <div class="method-source-code" id="end_with-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">end_with</span>(*<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">EndWith</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- end_with-source -->
          
        </div>

        

        
      </div><!-- end_with-method -->

    
      <div id="method-i-eq" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eq</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if <code>actual == expected</code>.</p>

<p>See <a
href="http://www.ruby-doc.org/core/classes/Object.html#M001057">www.ruby-doc.org/core/classes/Object.html#M001057</a>
for more information about equality in Ruby.</p>

<p>@example</p>

<pre>expect(5).to     eq(5)
expect(5).not_to eq(3)</pre>
          

          
          <div class="method-source-code" id="eq-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 378</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eq</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Eq</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- eq-source -->
          
        </div>

        

        
      </div><!-- eq-method -->

    
      <div id="method-i-eql" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eql</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if +actual.eql?(expected)+</p>

<p>See <a
href="http://www.ruby-doc.org/core/classes/Object.html#M001057">www.ruby-doc.org/core/classes/Object.html#M001057</a>
for more information about equality in Ruby.</p>

<p>@example</p>

<pre>expect(5).to     eql(5)
expect(5).not_to eql(3)</pre>
          

          
          <div class="method-source-code" id="eql-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Eql</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- eql-source -->
          
        </div>

        

        
      </div><!-- eql-method -->

    
      <div id="method-i-equal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">equal</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if <code>actual.equal?(expected)</code> (object identity).</p>

<p>See <a
href="http://www.ruby-doc.org/core/classes/Object.html#M001057">www.ruby-doc.org/core/classes/Object.html#M001057</a>
for more information about equality in Ruby.</p>

<p>@example</p>

<pre>expect(5).to       equal(5)   # Fixnums are equal
expect(&quot;5&quot;).not_to equal(&quot;5&quot;) # Strings that look the same are not the same object</pre>
          

          
          <div class="method-source-code" id="equal-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">equal</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Equal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- equal-source -->
          
        </div>

        

        
      </div><!-- equal-method -->

    
      <div id="method-i-exist" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exist</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if `actual.exist?` or `actual.exists?`</p>

<p>@example</p>

<pre>expect(File).to exist(&quot;path/to/file&quot;)</pre>
          

          
          <div class="method-source-code" id="exist-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exist</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Exist</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- exist-source -->
          
        </div>

        

        
      </div><!-- exist-method -->

    
      <div id="method-i-have" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">have</span><span
            class="method-args">(n)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if receiver is a collection with the submitted number of items OR if
the receiver OWNS a collection with the submitted number of items.</p>

<p>If the receiver OWNS the collection, you must use the name of the
collection. So if a `Team` instance has a collection named `players`, you
must use that name to set the expectation.</p>

<p>If the receiver IS the collection, you can use any name you like for
`named_collection`. We’d recommend using either “elements”, “members”, or
“items” as these are all standard ways of describing the things IN a
collection.</p>

<p>This also works for Strings, letting you set expectations about their
lengths.</p>

<p>@example</p>

<pre># Passes if team.players.size == 11
expect(team).to have(11).players

# Passes if [1,2,3].length == 3
expect([1,2,3]).to have(3).items #&quot;items&quot; is pure sugar

# Passes if ['a', 'b', 'c'].count == 3
expect([1,2,3]).to have(3).items #&quot;items&quot; is pure sugar

# Passes if &quot;this string&quot;.length == 11
expect(&quot;this string&quot;).to have(11).characters #&quot;characters&quot; is pure sugar</pre>
          

          
          <div class="method-source-code" id="have-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">have</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Have</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- have-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-have_exactly">have_exactly</a>
        </div>
        

        
      </div><!-- have-method -->

    
      <div id="method-i-have_at_least" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">have_at_least</span><span
            class="method-args">(n)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Exactly like have() with &gt;=.</p>

<p>@example</p>

<pre>expect(&quot;this&quot;).to have_at_least(3).letters</pre>

<p>### Warning:</p>

<p>`expect(..).not_to <a
href="Matchers.html#method-i-have_at_least">#have_at_least</a>` is not
supported</p>
          

          
          <div class="method-source-code" id="have_at_least-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">have_at_least</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Have</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">n</span>, <span class="ruby-value">:at_least</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- have_at_least-source -->
          
        </div>

        

        
      </div><!-- have_at_least-method -->

    
      <div id="method-i-have_at_most" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">have_at_most</span><span
            class="method-args">(n)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Exactly like have() with &lt;=.</p>

<p>@example</p>

<pre>expect(&quot;this&quot;).to have_at_most(4).letters</pre>

<p>### Warning:</p>

<p>`expect(..).not_to <a
href="Matchers.html#method-i-have_at_most">#have_at_most</a>` is not
supported</p>
          

          
          <div class="method-source-code" id="have_at_most-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">have_at_most</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Have</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">n</span>, <span class="ruby-value">:at_most</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- have_at_most-source -->
          
        </div>

        

        
      </div><!-- have_at_most-method -->

    
      <div id="method-i-have_exactly" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">have_exactly</span><span
            class="method-args">(n)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-have">have</a>
        </div>
        
      </div><!-- have_exactly-method -->

    
      <div id="method-i-include" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">include</span><span
            class="method-args">(*expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual includes expected. This works for collections and Strings.
You can also pass in multiple args and it will only pass if all args are
found in collection.</p>

<p>@example</p>

<pre>expect([1,2,3]).to      include(3)
expect([1,2,3]).to      include(2,3)
expect([1,2,3]).to      include(2,3,4) # fails
expect([1,2,3]).not_to  include(4)
expect(&quot;spread&quot;).to     include(&quot;read&quot;)
expect(&quot;spread&quot;).not_to include(&quot;red&quot;)</pre>
          

          
          <div class="method-source-code" id="include-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">include</span>(*<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Include</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- include-source -->
          
        </div>

        

        
      </div><!-- include-method -->

    
      <div id="method-i-match" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Given a Regexp or String, passes if actual.match(pattern)</p>

<p>@example</p>

<pre>expect(email).to   match(/^([^\s]+)((?:[-a-z0-9]+\.)+[a-z]{2,})$/i)
expect(email).to   match(&quot;@example.com&quot;)
expect(zipcode).to match_regex(/\A\d{5}(-\d{4})?\z/)
expect(zipcode).to match_regex(&quot;90210&quot;)</pre>

<p>@note Due to Ruby’s method dispatch mechanism, using the `<a
href="Matchers.html#method-i-match">match</a>` matcher within a custom
matcher defined via the matcher <a href="Matchers/DSL.html">DSL</a>
(`RSpec::Matcher.define`) will result Ruby calling the wrong `<a
href="Matchers.html#method-i-match">match</a>` method and raising an
`ArgumentError`. Instead, use the aliased `<a
href="Matchers.html#method-i-match_regex">match_regex</a>` method.</p>
          

          
          <div class="method-source-code" id="match-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match</span>(<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Match</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- match-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-match_regex">match_regex</a>
        </div>
        

        
      </div><!-- match-method -->

    
      <div id="method-i-match_array" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match_array</span><span
            class="method-args">(array)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if actual contains all of the expected regardless of order. This
works for collections. Pass in multiple args and it will only pass if all
args are found in collection.</p>

<p>@note This is also available using the `=~` operator with `should`,</p>

<pre>but `=~` is not supported with `expect`.</pre>

<p>@note This matcher only supports positive expectations.</p>

<pre>expect(..).not_to match_array(other_array) is not supported.</pre>

<p>@example</p>

<pre>expect([1,2,3]).to match_array([1,2,3])
expect([1,2,3]).to match_array([1,3,2])</pre>
          

          
          <div class="method-source-code" id="match_array-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 688</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match_array</span>(<span class="ruby-identifier">array</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">MatchArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">array</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- match_array-source -->
          
        </div>

        

        
      </div><!-- match_array-method -->

    
      <div id="method-i-match_regex" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">match_regex</span><span
            class="method-args">(expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-match">match</a>
        </div>
        
      </div><!-- match_regex-method -->

    
      <div id="method-i-raise_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">raise_error</span><span
            class="method-args">(error=Exception, message=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>With no args, matches if any error is raised. With a named error, matches
only if that specific error is raised. With a named error and messsage
specified as a String, matches only if both match. With a named error and
messsage specified as a Regexp, matches only if both match. Pass an
optional block to perform extra verifications on the exception matched</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">raise_error</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">raise_error</span>(<span class="ruby-constant">PoorRiskDecisionError</span>)
<span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">raise_error</span>(<span class="ruby-constant">PoorRiskDecisionError</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-identifier">expect</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">data</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">eq</span> <span class="ruby-value">42</span> }
<span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">raise_error</span>(<span class="ruby-constant">PoorRiskDecisionError</span>, <span class="ruby-string">&quot;that was too risky&quot;</span>)
<span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">raise_error</span>(<span class="ruby-constant">PoorRiskDecisionError</span>, <span class="ruby-regexp">/oo ri/</span>)

<span class="ruby-identifier">expect</span> { <span class="ruby-identifier">do_something_risky</span> }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">raise_error</span>
</pre>
          

          
          <div class="method-source-code" id="raise_error-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">raise_error</span>(<span class="ruby-identifier">error</span>=<span class="ruby-constant">Exception</span>, <span class="ruby-identifier">message</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">RaiseError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">error</span>, <span class="ruby-identifier">message</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- raise_error-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Matchers.html#method-i-raise_exception">raise_exception</a>
        </div>
        

        
      </div><!-- raise_error-method -->

    
      <div id="method-i-raise_exception" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">raise_exception</span><span
            class="method-args">(error=Exception, message=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Matchers.html#method-i-raise_error">raise_error</a>
        </div>
        
      </div><!-- raise_exception-method -->

    
      <div id="method-i-respond_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">respond_to</span><span
            class="method-args">(*names)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Matches if the target object responds to all of the names provided. Names
can be Strings or Symbols.</p>

<p>@example</p>

<p>expect(“string”).to <a
href="Matchers.html#method-i-respond_to">#respond_to</a>(:length)</p>
          

          
          <div class="method-source-code" id="respond_to-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 537</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">respond_to</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">RespondTo</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">names</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- respond_to-source -->
          
        </div>

        

        
      </div><!-- respond_to-method -->

    
      <div id="method-i-satisfy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">satisfy</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if the submitted block returns true. Yields target to the block.</p>

<p>Generally speaking, this should be thought of as a last resort when you
can’t find any other way to specify the behaviour you wish to specify.</p>

<p>If you do find yourself in such a situation, you could always write a
custom matcher, which would likely make your specs more expressive.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span>(<span class="ruby-value">5</span>).<span class="ruby-identifier">to</span> <span class="ruby-identifier">satisfy</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span> }
</pre>
          

          
          <div class="method-source-code" id="satisfy-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">satisfy</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">Satisfy</span>.<span class="ruby-identifier">new</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- satisfy-source -->
          
        </div>

        

        
      </div><!-- satisfy-method -->

    
      <div id="method-i-start_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start_with</span><span
            class="method-args">(*expected)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Matches if the actual value starts with the expected value(s). In the case
of a string, matches against the first `expected.length` characters of the
actual string. In the case of an array, matches against the first
`expected.length` elements of the actual array.</p>

<p>@example</p>

<pre>expect(&quot;this string&quot;).to   start_with &quot;this s&quot;
expect([0, 1, 2, 3, 4]).to start_with 0
expect([0, 2, 3, 4, 4]).to start_with 0, 1</pre>
          

          
          <div class="method-source-code" id="start_with-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 568</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_with</span>(*<span class="ruby-identifier">expected</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">StartWith</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- start_with-source -->
          
        </div>

        

        
      </div><!-- start_with-method -->

    
      <div id="method-i-throw_symbol" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">throw_symbol</span><span
            class="method-args">(expected_symbol=nil, expected_arg=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Given no argument, matches if a proc throws any Symbol.</p>

<p>Given a Symbol, matches if the given proc throws the specified Symbol.</p>

<p>Given a Symbol and an arg, matches if the given proc throws the specified
Symbol with the specified arg.</p>

<p>@example</p>

<pre>expect { do_something_risky }.to throw_symbol
expect { do_something_risky }.to throw_symbol(:that_was_risky)
expect { do_something_risky }.to throw_symbol(:that_was_risky, 'culprit')

expect { do_something_risky }.not_to throw_symbol
expect { do_something_risky }.not_to throw_symbol(:that_was_risky)
expect { do_something_risky }.not_to throw_symbol(:that_was_risky, 'culprit')</pre>
          

          
          <div class="method-source-code" id="throw_symbol-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">throw_symbol</span>(<span class="ruby-identifier">expected_symbol</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">expected_arg</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">ThrowSymbol</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected_symbol</span>, <span class="ruby-identifier">expected_arg</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- throw_symbol-source -->
          
        </div>

        

        
      </div><!-- throw_symbol-method -->

    
      <div id="method-i-yield_control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yield_control</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if the method called in the expect block yields, regardless of
whether or not arguments are yielded.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_control</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-string">&quot;a&quot;</span>.<span class="ruby-identifier">to_sym</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_control</span>
</pre>

<p>@note Your expect block must accept a parameter and pass it on to</p>

<pre>the method-under-test as a block.</pre>

<p>@note This matcher is not designed for use with methods that yield</p>

<pre>multiple times.</pre>
          

          
          <div class="method-source-code" id="yield_control-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 604</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yield_control</span>
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">YieldControl</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- yield_control-source -->
          
        </div>

        

        
      </div><!-- yield_control-method -->

    
      <div id="method-i-yield_successive_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yield_successive_args</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Designed for use with methods that repeatedly yield (such as iterators).
Passes if the method called in the expect block yields multiple times with
arguments matching those given.</p>

<p>Argument matching is done using `===` (the case match operator) and `==`.
If the expected and actual arguments match with either operator, the
matcher will pass.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>].<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_successive_args</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>)
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> { :<span class="ruby-identifier">a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, :<span class="ruby-identifier">b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }.<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_successive_args</span>([:<span class="ruby-identifier">a</span>, <span class="ruby-value">1</span>], [:<span class="ruby-identifier">b</span>, <span class="ruby-value">2</span>])
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>].<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_successive_args</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>)
</pre>

<p>@note Your expect block must accept a parameter and pass it on to</p>

<pre>the method-under-test as a block.</pre>
          

          
          <div class="method-source-code" id="yield_successive_args-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 670</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yield_successive_args</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">YieldSuccessiveArgs</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- yield_successive_args-source -->
          
        </div>

        

        
      </div><!-- yield_successive_args-method -->

    
      <div id="method-i-yield_with_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yield_with_args</span><span
            class="method-args">(*args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Given no arguments, matches if the method called in the expect block yields
with arguments (regardless of what they are or how many there are).</p>

<p>Given arguments, matches if the method called in the expect block yields
with arguments that match the given arguments.</p>

<p>Argument matching is done using `===` (the case match operator) and `==`.
If the expected and actual arguments match with either operator, the
matcher will pass.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_with_args</span> <span class="ruby-comment"># because #tap yields an arg</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_with_args</span>(<span class="ruby-value">5</span>) <span class="ruby-comment"># because 5 == 5</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_with_args</span>(<span class="ruby-constant">Fixnum</span>) <span class="ruby-comment"># because Fixnum === 5</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;f.txt&quot;</span>, &amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_with_args</span>(<span class="ruby-regexp">/txt/</span>) <span class="ruby-comment"># because /txt/ === &quot;f.txt&quot;</span>

<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">transaction</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_with_args</span> <span class="ruby-comment"># because it yields no args</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_with_args</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>)
</pre>

<p>@note Your expect block must accept a parameter and pass it on to</p>

<pre>the method-under-test as a block.</pre>

<p>@note This matcher is not designed for use with methods that yield</p>

<pre>multiple times.</pre>
          

          
          <div class="method-source-code" id="yield_with_args-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yield_with_args</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">YieldWithArgs</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- yield_with_args-source -->
          
        </div>

        

        
      </div><!-- yield_with_args-method -->

    
      <div id="method-i-yield_with_no_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">yield_with_no_args</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Passes if the method called in the expect block yields with no arguments.
Fails if it does not yield, or yields with arguments.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">transaction</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">to</span> <span class="ruby-identifier">yield_with_no_args</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">tap</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_with_no_args</span> <span class="ruby-comment"># because it yields with `5`</span>
<span class="ruby-identifier">expect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-string">&quot;a&quot;</span>.<span class="ruby-identifier">to_sym</span>(&amp;<span class="ruby-identifier">b</span>) }.<span class="ruby-identifier">not_to</span> <span class="ruby-identifier">yield_with_no_args</span> <span class="ruby-comment"># because it does not yield</span>
</pre>

<p>@note Your expect block must accept a parameter and pass it on to</p>

<pre>the method-under-test as a block.</pre>

<p>@note This matcher is not designed for use with methods that yield</p>

<pre>multiple times.</pre>
          

          
          <div class="method-source-code" id="yield_with_no_args-source">
            <pre><span class="ruby-comment"># File lib/rspec/matchers.rb, line 621</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">yield_with_no_args</span>
  <span class="ruby-constant">BuiltIn</span><span class="ruby-operator">::</span><span class="ruby-constant">YieldWithNoArgs</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- yield_with_no_args-source -->
          
        </div>

        

        
      </div><!-- yield_with_no_args-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

